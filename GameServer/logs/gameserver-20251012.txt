2025-10-12 23:54:51.923 +09:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-12 23:54:51.953 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT GET_LOCK('__gameserver_EFMigrationsLock', 259200)
2025-10-12 23:54:52.010 +09:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2025-10-12 23:54:52.026 +09:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='gameserver' AND TABLE_NAME='__EFMigrationsHistory';
2025-10-12 23:54:52.031 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-10-12 23:54:52.036 +09:00 [INF] Applying migration '20251012145413_InitialCreate'.
2025-10-12 23:54:52.052 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-10-12 23:54:52.065 +09:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `players` (
    `PlayerId` int NOT NULL AUTO_INCREMENT,
    `PlayerName` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `Email` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Level` int NOT NULL,
    `Experience` int NOT NULL,
    `CreatedAt` datetime(6) NOT NULL,
    `LastLoginAt` datetime(6) NOT NULL,
    CONSTRAINT `PK_players` PRIMARY KEY (`PlayerId`)
) CHARACTER SET=utf8mb4;
2025-10-12 23:54:52.083 +09:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `game_logs` (
    `LogId` int NOT NULL AUTO_INCREMENT,
    `PlayerId` int NOT NULL,
    `Action` varchar(100) CHARACTER SET utf8mb4 NOT NULL,
    `Details` longtext CHARACTER SET utf8mb4 NOT NULL,
    `CreatedAt` datetime(6) NOT NULL,
    `IpAddress` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_game_logs` PRIMARY KEY (`LogId`),
    CONSTRAINT `FK_game_logs_players_PlayerId` FOREIGN KEY (`PlayerId`) REFERENCES `players` (`PlayerId`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-10-12 23:54:52.101 +09:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `game_sessions` (
    `SessionId` int NOT NULL AUTO_INCREMENT,
    `PlayerId` int NOT NULL,
    `GameType` longtext CHARACTER SET utf8mb4 NOT NULL,
    `StartTime` datetime(6) NOT NULL,
    `EndTime` datetime(6) NULL,
    `Score` int NOT NULL,
    CONSTRAINT `PK_game_sessions` PRIMARY KEY (`SessionId`),
    CONSTRAINT `FK_game_sessions_players_PlayerId` FOREIGN KEY (`PlayerId`) REFERENCES `players` (`PlayerId`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-10-12 23:54:52.119 +09:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `user_reward` (
    `RewardId` int NOT NULL AUTO_INCREMENT,
    `PlayerId` int NOT NULL,
    `RewardType` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `RewardName` varchar(100) CHARACTER SET utf8mb4 NOT NULL,
    `Quantity` int NOT NULL,
    `AcquiredAt` datetime(6) NOT NULL,
    `IsCollected` tinyint(1) NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_user_reward` PRIMARY KEY (`RewardId`),
    CONSTRAINT `FK_user_reward_players_PlayerId` FOREIGN KEY (`PlayerId`) REFERENCES `players` (`PlayerId`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-10-12 23:54:52.138 +09:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_game_logs_PlayerId` ON `game_logs` (`PlayerId`);
2025-10-12 23:54:52.153 +09:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_game_sessions_PlayerId` ON `game_sessions` (`PlayerId`);
2025-10-12 23:54:52.168 +09:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_user_reward_PlayerId` ON `user_reward` (`PlayerId`);
2025-10-12 23:54:52.172 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20251012145413_InitialCreate', '9.0.9');
2025-10-12 23:54:52.173 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT RELEASE_LOCK('__gameserver_EFMigrationsLock')
